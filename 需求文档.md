# AI提示词分享应用需求文档

## 1. 项目概述

### 1.1 项目名称
PromptWorld - AI提示词分享平台

### 1.2 项目背景
随着AI技术的普及，越来越多的用户需要高质量的提示词来提升AI交互效果。本项目旨在构建一个专业的提示词分享平台，让用户可以发现、分享和管理优质的AI提示词。

### 1.3 项目目标
- 为用户提供丰富的提示词资源库
- 建立活跃的提示词分享社区
- 提供便捷的提示词管理工具
- 支持多种AI模型的提示词适配

## 2. 功能需求

### 2.1 用户管理
- **用户注册/登录**
  - 支持邮箱注册
  - 支持第三方登录（GitHub、Google）
  - 用户信息管理
  - 密码找回功能

- **用户权限**
  - 普通用户：浏览、收藏、评论
  - 认证用户：发布提示词
  - 管理员：内容审核、用户管理

### 2.2 提示词管理
- **提示词发布**
  - 标题、描述、标签
  - 提示词内容编辑器
  - 适用AI模型标注
  - 使用场景分类
  - 示例输入/输出

- **提示词浏览**
  - 分类浏览（工作、学习、创意等）
  - 标签筛选
  - 搜索功能
  - 热门推荐
  - 最新发布

- **提示词详情**
  - 完整内容展示
  - 使用统计
  - 评分系统
  - 评论区
  - 一键复制功能

### 2.3 社区功能
- **互动功能**
  - 点赞/收藏
  - 评论回复
  - 分享功能
  - 举报机制

- **用户中心**
  - 个人主页
  - 发布历史
  - 收藏夹
  - 关注/粉丝

### 2.4 内容管理
- **分类体系**
  - 工作效率（邮件、报告、总结）
  - 创意写作（小说、诗歌、剧本）
  - 学习教育（解题、翻译、解释）
  - 编程开发（代码生成、调试、文档）
  - 生活娱乐（聊天、游戏、趣味）

- **质量控制**
  - 内容审核机制
  - 用户举报处理
  - 质量评分系统
  - 专家推荐标识

## 3. 技术需求

### 3.1 技术架构
- **后端**：Go语言 + Gin框架
- **数据库**：MongoDB + Redis缓存
- **前端**：React + TypeScript
- **部署**：Docker + Kubernetes

### 3.2 核心模块
- 用户认证服务
- 内容管理服务
- 搜索服务
- 通知服务
- 文件存储服务

### 3.3 第三方集成
- 邮件服务（发送验证码、通知）
- 对象存储（用户头像、附件）
- 搜索引擎（Elasticsearch）
- 监控告警（Prometheus + Grafana）

## 4. 数据库设计

### 4.1 核心集合结构

#### 4.1.1 用户集合 (users)
```json
{
  "_id": "ObjectId",
  "username": "string",
  "email": "string",
  "password_hash": "string",
  "avatar": "string",
  "role": "string", // "user", "verified", "admin"
  "profile": {
    "bio": "string",
    "website": "string",
    "location": "string"
  },
  "stats": {
    "prompts_count": "number",
    "followers_count": "number",
    "following_count": "number"
  },
  "created_at": "Date",
  "updated_at": "Date"
}
```

#### 4.1.2 提示词集合 (prompts)
```json
{
  "_id": "ObjectId",
  "user_id": "ObjectId",
  "title": "string",
  "description": "string",
  "content": "string",
  "category": "string",
  "tags": ["string"],
  "ai_models": ["string"],
  "examples": [
    {
      "input": "string",
      "output": "string"
    }
  ],
  "stats": {
    "views": "number",
    "likes": "number",
    "favorites": "number",
    "comments": "number"
  },
  "status": "string", // "draft", "published", "archived"
  "is_featured": "boolean",
  "created_at": "Date",
  "updated_at": "Date"
}
```

#### 4.1.3 评论集合 (comments)
```json
{
  "_id": "ObjectId",
  "prompt_id": "ObjectId",
  "user_id": "ObjectId",
  "content": "string",
  "parent_id": "ObjectId", // null for top-level comments
  "replies": ["ObjectId"], // child comment IDs
  "likes": "number",
  "created_at": "Date",
  "updated_at": "Date"
}
```

#### 4.1.4 用户互动集合 (user_interactions)
```json
{
  "_id": "ObjectId",
  "user_id": "ObjectId",
  "target_id": "ObjectId", // prompt_id or comment_id
  "target_type": "string", // "prompt" or "comment"
  "action": "string", // "like", "favorite", "follow"
  "created_at": "Date"
}
```

#### 4.1.5 标签集合 (tags)
```json
{
  "_id": "ObjectId",
  "name": "string",
  "description": "string",
  "usage_count": "number",
  "category": "string",
  "created_at": "Date"
}
```

### 4.2 索引设计
- **用户集合**
  - `email`: 唯一索引
  - `username`: 唯一索引
  - `created_at`: 降序索引

- **提示词集合**
  - `user_id`: 普通索引
  - `category`: 普通索引
  - `tags`: 多键索引
  - `ai_models`: 多键索引
  - `created_at`: 降序索引
  - `stats.views`: 降序索引
  - `stats.likes`: 降序索引
  - `{title: "text", description: "text", content: "text"}`: 全文搜索索引

- **评论集合**
  - `prompt_id`: 普通索引
  - `user_id`: 普通索引
  - `parent_id`: 普通索引
  - `created_at`: 降序索引

- **用户互动集合**
  - `{user_id: 1, target_id: 1, action: 1}`: 复合唯一索引
  - `target_id`: 普通索引
  - `created_at`: 降序索引

- **标签集合**
  - `name`: 唯一索引
  - `usage_count`: 降序索引

## 5. API设计

### 5.1 用户相关
```
POST /api/auth/register     # 用户注册
POST /api/auth/login        # 用户登录
GET  /api/users/profile     # 获取用户信息
PUT  /api/users/profile     # 更新用户信息
```

### 5.2 提示词相关
```
GET    /api/prompts         # 获取提示词列表
POST   /api/prompts         # 创建提示词
GET    /api/prompts/:id     # 获取提示词详情
PUT    /api/prompts/:id     # 更新提示词
DELETE /api/prompts/:id     # 删除提示词
```

### 5.3 互动相关
```
POST /api/prompts/:id/like     # 点赞
POST /api/prompts/:id/favorite # 收藏
POST /api/prompts/:id/comments # 评论
```

## 6. 界面设计

### 6.1 主要页面
- 首页（热门推荐、分类导航）
- 提示词列表页（筛选、搜索）
- 提示词详情页（内容展示、互动）
- 用户中心（个人信息、作品管理）
- 发布页面（编辑器、预览）

### 6.2 设计原则
- 简洁直观的用户界面
- 响应式设计，支持移动端
- 良好的可访问性
- 统一的视觉风格

## 7. 安全需求

### 7.1 数据安全
- 用户密码加密存储
- API接口鉴权
- NoSQL注入防护
- XSS攻击防护
- MongoDB访问控制和权限管理

### 7.2 内容安全
- 敏感词过滤
- 内容审核机制
- 用户举报处理
- 恶意行为检测

## 8. 性能需求

### 8.1 响应时间
- 页面加载时间 < 2秒
- API响应时间 < 500ms
- 搜索响应时间 < 1秒

### 8.2 并发能力
- 支持1000+并发用户
- 数据库连接池优化
- Redis缓存加速
- CDN静态资源加速

## 9. 开发计划

### 9.1 第一阶段（MVP）
- 提示词浏览功能
- 分类体系实现
- 基础搜索功能
- 提示词详情展示
- 一键复制功能

### 9.2 第二阶段
- 用户注册登录系统
- 提示词发布功能
- 基础的点赞收藏功能
- 用户个人中心
- 高级搜索和筛选

### 9.3 第三阶段
- 评论和社区功能
- 用户关注和粉丝系统
- 移动端适配
- AI模型适配优化
- 数据分析和统计
- 高级管理功能
- 性能优化

## 10. 运营策略

### 10.1 内容运营
- 邀请专家用户贡献优质内容
- 定期举办提示词创作比赛
- 建立内容质量评估体系
- 推出每日精选推荐

### 10.2 用户增长
- SEO优化提升搜索排名
- 社交媒体推广
- 与AI工具厂商合作
- 建立用户激励机制

## 11. 风险评估

### 11.1 技术风险
- 高并发下的系统稳定性
- 数据安全和隐私保护
- 第三方服务依赖风险

### 11.2 业务风险
- 内容质量控制难度
- 用户活跃度维持
- 竞争对手威胁

## 12. 成功指标

### 12.1 用户指标
- 注册用户数
- 日活跃用户数
- 用户留存率
- 用户贡献内容数

### 12.2 内容指标
- 提示词总数
- 高质量内容占比
- 用户互动数据
- 搜索使用频率

---

*本需求文档将根据项目进展和用户反馈持续更新完善*